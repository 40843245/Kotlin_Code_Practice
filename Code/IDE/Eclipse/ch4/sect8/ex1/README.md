# ex1
## Eclipse
### code
    import kotlinx.coroutines.*
    
    var acquired = 0
    
    class Resource {
        init { acquired++; println("Acquire the resource.");} // Acquire the resource
        fun close() { acquired--; println("Release the resource."); } // Release the resource
    }
    
    fun main() {
        runBlocking {
            repeat(10_000) { // Launch 10K coroutines
                launch { 
                    val resource = withTimeout(60) { // Timeout of 60 ms
                        delay(50) // Delay for 50 ms
                        Resource() // Acquire a resource and return it from withTimeout block     
                    }
                    resource.close() // Release the resource
                }
            }
        }
        // Outside of runBlocking all coroutines have completed
        println(acquired) // Print the number of resources still acquired
    }
### output
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Release the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    Acquire the resource.
    503

